<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Quizy - The Quiz Game</title>
	</head>
	<body>
		<h1 id="question"></h1>
		<form name="quiz">
			<div>
				<input type="radio" name="choice" id="a1" value="0"><span id="choice0"></span>
			</div>
			<div>
				<input type="radio" name="choice" id="a2" value="1"><span id="choice1"></span>
			</div>
			<div>
				<input type="radio" name="choice" id="a3" value="2"><span id="choice2"></span>
			</div>
			<div>
				<input type="radio" name="choice" id="a4" value="3"><span id="choice3"></span>
			</div>
			<br>
			<input type="button" name="prev" value="Previous Question">
			<input type="button" name="next" value="Next Question">
			<br>
			<input type="button" name="fin" value="Finished, See Score">
		</form>
		<script>
			var answers = [];
			/*
			var request = new XMLHttpRequest();
			request.open("GET", "quizappdata.json", false);
			request.send(null);
			var quizData = JSON.parse(request.responseText);
			var choice = document.quiz.choice;
			document.getElementById("question").innerHTML = quizData[0].question;
			for (var i = 0; i < choice.length; i++) {
				document.getElementById("aspan"+i).innerHTML = quizData[0].answers[i];
			}
			*/
			function getChecked() {
				var choices = document.quiz.choice;
				for (var i = 0; i < choices.length; i++) {
					if (choices[i].checked) {
						return choices[i].value;
					}
				}
				return undefined;
			}
			
			function nextHandler() {
				//check if choice selected
				
				//check if last question
				
				//============================================================================
				//choice selected, not last question ==> record answer, load next que. & ans.
				//============================================================================
				
				//load quiz data
				var request = new XMLHttpRequest();
				request.open("GET", "quizappdata.json", false);
				request.send(null);
				request = JSON.parse(request.responseText);
				var qArr = request[0].answers;
				var qQue = request[0].question;
				var ansSpans = document.querySelectorAll("span");
				
				//console.log(qArr);
				//console.log(qQue);
				
				document.getElementById("question").innerHTML = qQue;
				for (var i = 0; i < ansSpans.length; i ++) {
					ansSpans[i].innerHTML = qArr[i];
				}
			}
			nextHandler();
		</script>
	</body>
</html>